<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Ghess</title>
  <script src="p5.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background-color: #000;
    }
    body {
      display: grid;
      place-items: center;
      min-height: 100vh;
    }
    canvas {
      display: block;
      border: 10px solid #632600;
      border-radius: 50px;
    }
  </style>
</head>
<body>
<script>
  let plateau, pion, reine, roi, cavalier, fou, tour, game

  class Game {
    constructor() {
      createCanvas(800, 800)
    }

    draw(){
      background(0)
      image(plateau,0,0,800,800)
    }
  }

  class Pion {
    constructor(team, image, x, y) {
      this.team = team
      this.image = image
      this.x = x
      this.y = y

      // place following code in draw if it dont works
      if(!team){
        this.image.filter(INVERT)
      }
    }

    get raw(){
      return {
        x: this.x * 100,
        y: this.y * 100
      }
    }

    set raw(pos){
      this.x = Math.floor(pos.x / 100)
      this.y = Math.floor(pos.y / 100)
    }

    draw(){
      const pos = this.raw
      image(this.image, pos.x, pos.y)
    }
  }

  const teams = [

  ]

  function preload(){
    plateau = loadImage("img/grid.jpg")
    pion = loadImage("img/pion.png")
    reine = loadImage("img/reine.png")
    roi = loadImage("img/roi.png")
    cavalier = loadImage("img/cavalier.png")
    fou = loadImage("img/fou.png")
    tour = loadImage("img/tour.png")
  }

  function setup() {
    game = new Game()
  }

  function draw() {
    game.draw()
  }
</script>
</body>
</html>